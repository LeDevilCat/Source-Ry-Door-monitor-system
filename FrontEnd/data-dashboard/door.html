<!-- =========================
     HISTORY CHARTS PAGE
     =========================
     This page displays historical door data and charts.
     Charts are rendered using Chart.js and data is fetched from Firestore.
     Edit this file to change the dashboard layout or add new chart sections.
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Meta tags for responsive design and character encoding -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Dashboard and responsive stylesheets -->
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/door-dashboard.css">
    <link rel="stylesheet" href="../css/responsive.css">
    <link rel="icon" type="image/png" href="../images/source-logo-neon.png">
    <title>Door Data Dashboard</title>
</head>
<body>
    <header>
        <!-- The header contains the Source Logo as a background image. -->
    </header>
    <main>
        <!-- =========================
             REFRESH BUTTON
             ========================= -->
        <div class="refresh-btn-wrapper">
            <button id="refresh-btn" type="button" class="neon-button">Refresh Statistics</button>
        </div>

        <!-- =========================
             WEEKLY CHARTS (7 DAYS)
             ========================= -->
        <div class="chart-row">
            <div class="chart-container">
                <h2>Daily Openings (Last 7 Days)</h2>
                <canvas id="dailyOpeningsChart" class="line-chart"></canvas>
            </div>
            <div class="chart-container">
                <h2>Opening Durations (Last 7 Days)</h2>
                <div class="pie-chart-wrapper">
                    <canvas id="openingDurationsChart"></canvas>
                </div>
                <div id="openingDurationsLegend" class="custom-legend"></div>
            </div>
        </div>

        <!-- =========================
             MONTHLY CHARTS (30 DAYS)
             ========================= -->
        <div class="chart-row">
            <div class="chart-container">
                <h2>Daily Openings (Last 30 Days)</h2>
                <canvas id="monthlyOpeningsChart"></canvas>
            </div>
            <div class="chart-container">
                <h2>Opening Durations (Last 30 Days)</h2>
                <canvas id="monthlyDurationsChart"></canvas>
                <div id="monthlyDurationsLegend" class="custom-legend"></div>
            </div>
        </div>

        <!-- =========================
             90-DAY CHARTS
             ========================= -->
        <div class="chart-row">
            <div class="chart-container">
                <h2>Daily Openings (Last 90 Days)</h2>
                <canvas id="ninetyDayOpeningsChart"></canvas>
            </div>
            <div class="chart-container">
                <h2>Opening Durations (Last 90 Days)</h2>
                <canvas id="ninetyDayDurationsChart"></canvas>
                <div id="ninetyDayDurationsLegend" class="custom-legend"></div>
            </div>
        </div>
    </main>
    <footer>
        <!-- Footer is intentionally left empty/hidden -->
    </footer>
    <!-- Chart.js and dashboard scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../js/history-charts.js" type="module"></script>
</body>
</html>
